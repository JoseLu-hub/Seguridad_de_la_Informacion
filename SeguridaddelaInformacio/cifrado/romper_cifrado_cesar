#CODIGO PARA romper cifrado Cesar
import string 
from langdetect import detect
ALFABETO =string.ascii_lowercase + "0123456789"


def algoritmo_decifrado(texto_cifrado, clave_descifrado):
    """"Esta funcion descifra el texto cifrado a partir 
    de una clave de descifrado"""

    texto_plano = ""
    for letra in texto_cifrado:
        if letra not in ALFABETO:
            texto_plano += letra
        else:
            indice_letra_cifrada = ALFABETO.index(letra)
            indice_letra_descifrada = indice_letra_cifrada - clave_descifrado
            texto_plano += ALFABETO[indice_letra_descifrada]
    return texto_plano

def fuerza_bruta(texto_cifrado):
    """"Esta funcion realiza fuerza bruta sobre el texto cifrado interceptado"""
    espacio_claves = range(len(ALFABETO))
    for clave in espacio_claves:
        texto_plano = algoritmo_decifrado(texto_cifrado, clave)
        lenguaje = detect(texto_plano)
        if lenguaje == "es":
            #aqui almacenamos en una variable la resta del alfabeto y la clave para saber el
            #recorrimiento hacia el otro lado 
            clave2 = len(ALFABETO) - clave
            print(f"El texto descifrado es: {texto_plano}")
            print(f"La clave de descifrado es: {clave}")
            print(f"Se desplazo hacia IZQUIERDA ←{clave}")
            print(f"DERECHA →{clave2}")
            
            return



if __name__ == "__main__":
    texto_cifrado = input("Por favor introduce el texto cifrado: ").lower()
    #clave_descifrado = int(input("Por favor introdusca la clave de descifrado: "))
    #texto_plano = algoritmo_decifrado(texto_cifrado, clave_descifrado)
   # print(texto_plano)
    fuerza_bruta(texto_cifrado)
